{% load static %}
<div class="row mb-3 gap-2 justify-content-center">
  {% comment %} CIRCUIT MODEL {% endcomment %}
  <div class="card col-12 col-sm-5">
    <div class="card-header">Circuit Model</div>
    <div class="card-body d-flex align-items-center">
      <img src="{% static "dashboard/images/circuit.png" %}" class='w-100'
      alt="circuit">
    </div>
  </div>
  <div class="card col-12 col-sm-5">
    <div class="card-header">State of Health: <span class="fw-bold">{{health_percentage|floatformat:2}}%</span></div>
    <div class="card-body">
      <div class="health-icon">
        <div class="cap"></div>
        <div class="cell">
          <div class="healthy" style="height: {{health_percentage}}%"></div>
          <div class="degraded" style="height: {{degraded_percentage}}%"></div>
        </div>
      </div>
    </div>
  </div>
</div>

{% comment %} PARAMETER TABLE {% endcomment %}
<div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th scope="col">Parameter</th>
        <th scope="col">Value</th>
        <th scope="col">Explanation</th>
        <th scope="col">Visual Indicator</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>R <sub>b</sub></td>
        <td>{{parameters.0}}</td>
        <td>Electrolyte resistance</td>
        <td class="d-flex">
          <div>0</div>
          <input
            type="range"
            min="0"
            max="0.1"
            step="0.01"
            value="{{parameters.0}}"
            disabled
          />
          <div>0.1</div>
        </td>
      </tr>
      <tr>
        <td>R <sub>SEI</sub></td>
        <td>{{parameters.1}}</td>
        <td>Resistance due to SEI layer</td>
        <td class="d-flex">
          <div>0</div>
          <input
            type="range"
            min="0"
            max="0.1"
            step="0.01"
            value="{{parameters.1}}"
            disabled
          />
          <div>0.1</div>
        </td>
      </tr>
      <tr>
        <td>CPE <sub>SEI</sub></td>
        <td>{{parameters.2}}</td>
        <td>Capacitance due to SEI layer</td>
        <td class="d-flex">
          <div>0</div>
          <input
            type="range"
            min="0"
            max="10"
            step="1"
            value="{{parameters.2}}"
            disabled
          />
          <div>10</div>
        </td>
      </tr>
      <tr>
        <td>R <sub>CT</sub></td>
        <td>{{parameters.3}}</td>
        <td>
          charge-transfer resistance that models the voltage drop over the
          electrodeâ€“electrol yte interface due to a load
        </td>
        <td class="d-flex">
          <div>0</div>
          <input
            type="range"
            min="0"
            max="0.1"
            step="0.01"
            value="{{parameters.3}}"
            disabled
          />
          <div>0.1</div>
        </td>
      </tr>
      <tr>
        <td>CPE <sub>DL</sub></td>
        <td>{{parameters.6}}</td>
        <td>
          Double-layer capacitance that models the effect of charges building up
          in the electrolyte at the electrode surface
        </td>
        <td class="d-flex">
          <div>0</div>
          <input
            type="range"
            min="0"
            max="1"
            step="0.1"
            value="{{parameters.6}}"
            disabled
          />
          <div>1</div>
        </td>
      </tr>
      <tr>
        <td>W <sub>Warburg</sub></td>
        <td>{{parameters.4}}, {{parameters.5}}</td>
        <td>
          Frequency-dependent Warburg impedance models diffusion of lithium ions
          in the electrodes
        </td>
        <td>
          <div class="d-flex">
            <div>0</div>
            <input
              type="range"
              min="0"
              max="0.1"
              step="0.01"
              value="{{parameters.4}}"
              disabled
            />
            <div>0.1</div>
          </div>
          <div class="d-flex">
            <div>0</div>
            <input
              type="range"
              min="0"
              max="500"
              step="1"
              value="{{parameters.5}}"
              disabled
            />
            <div>500</div>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <div class="card mx-auto plot">
    <div class="card-header">Bode Plot</div>
    <div class="card-body">
      <img src="{{plot}}" class="w-100" alt="Bode plot">
    </div>
  </div>
</div>